import{V as _}from"./VideoCard-29aa75fd.js";import{v as m}from"./video.service-78f142c5.js";import{_ as y,x as f,L as A,B as S,f as c,g as o,m as s,s as a,F as r,q as d,j as u,y as x,z as C,l as V,u as k,C as F,t as i}from"./index-5856ead4.js";import{c as b}from"./Artplayer-e9d53018.js";import{P as L}from"./ProfileCard-6d8040fb.js";const w={setup(){return{accountStore:f()}},props:{textSearch:""},components:{VideoCard:_,Loading:A,ProfileCard:L},data(){return{Account:this.accountStore.account,videos:[],accounts:[],navFields:["Videos","Channels"],activeField:"Videos",loading:{isLoading:!0,isFullPage:!1},option:{},style:{width:"100%",height:"180px",borderRadius:"var(--border_radius_video)"}}},methods:{getvalue(t){return t.params.textSearch},async getAllVideos(){try{this.videos=await m.getAll(this.textSearch),this.videos.forEach(t=>{t.publishedAt=`${b(t.publishedAt)}`})}catch(t){console.log("ðŸš€ ~ file: Search.vue:44 ~ getAllVideos ~ error:",t)}},async getAllAccounts(){try{this.accounts=await S.getAll(this.textSearch)}catch(t){console.log("ðŸš€ ~ file: Search.vue:102 ~ getAllAccounts ~ error:",t)}},changeNavFields(t){this.activeField=t}},computed:{},async mounted(){await this.getAllVideos(),console.log("ðŸš€ ~ file: Search.vue:112 ~ created ~ await this.getAllVideos();:",this.videos),await this.getAllAccounts(),console.log("ðŸš€ ~ file: Search.vue:114 ~ created ~ await this.getAllAccounts():",this.accounts),this.loading.isLoading=!1}},N={class:"px-sm-5 vl-parent"},P={class:"d-flex"},B=["onClick"],D={key:0},z={key:1},j=a("hr",{class:"m-0"},null,-1),E={key:0},q={key:1,class:"text-center my-3",style:{"font-style":"italic"}},I={key:1,class:"d-flex justify-content-center flex-wrap gap-2 gap-sm-5 my-3"},O={key:1,style:{"font-style":"italic"}};function R(t,l,T,U,e,h){const g=c("VideoCard"),p=c("ProfileCard"),v=c("Loading");return o(),s("section",N,[a("div",P,[(o(!0),s(r,null,d(e.navFields,n=>(o(),s("div",{key:n},[a("div",{role:"button",class:k(["btn fs-5",{active_btn:e.activeField===n}]),onClick:G=>h.changeNavFields(n)},[F(i(n)+" ",1),n==="Videos"?(o(),s("span",D,i(e.videos.length),1)):(o(),s("span",z,i(e.accounts.length),1))],10,B)]))),128))]),j,e.activeField==="Videos"?(o(),s("div",E,[e.videos.length>0?(o(),u(g,{key:this.$route.params.textSearch,videos:e.videos,option:e.option,style:x(e.style),class:"customArtplayer"},null,8,["videos","option","style"])):(o(),s("h4",q," Didn't find any videos "))])):e.activeField==="Channels"?(o(),s("div",I,[e.accounts.length>0?(o(!0),s(r,{key:0},d(e.accounts,n=>(o(),u(p,{account:n},null,8,["account"]))),256)):(o(),s("h4",O,"Didn't find any channels"))])):C("",!0),V(v,{active:e.loading.isLoading,"onUpdate:active":l[0]||(l[0]=n=>e.loading.isLoading=n),"can-cancel":e.loading.onCancel,"is-full-page":e.loading.isfullPage,opacity:.5,backgroundColor:"#170f23 !important",color:"#c6bcd3",loader:"bars"},null,8,["active","can-cancel","is-full-page"])])}const W=y(w,[["render",R]]);export{W as default};
