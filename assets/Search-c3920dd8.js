import{V as _}from"./VideoCard-1127c090.js";import{v as m}from"./video.service-4821cde6.js";import{_ as f,x as y,L as A,B as S,f as i,g as o,m as n,s as c,F as r,q as d,j as u,y as x,l as C,u as V,C as k,t as a}from"./index-2e14b8b2.js";import{c as F}from"./Artplayer-c11cc003.js";import{P as b}from"./ProfileCard-b80819a9.js";const L={setup(){return{accountStore:y()}},props:{textSearch:""},components:{VideoCard:_,Loading:A,ProfileCard:b},data(){return{Account:this.accountStore.account,videos:[],accounts:[],navFields:["Videos","Channels"],activeField:"Videos",loading:{isLoading:!0,isFullPage:!1},option:{},style:{width:"100%",height:"180px",borderRadius:"var(--border_radius_video)"}}},methods:{getvalue(t){return t.params.textSearch},async getAllVideos(){try{this.videos=await m.getAll(this.textSearch),this.videos.forEach(t=>{t.publishedAt=`${F(t.publishedAt)}`})}catch(t){console.log("ðŸš€ ~ file: Search.vue:44 ~ getAllVideos ~ error:",t)}},async getAllAccounts(){try{this.accounts=await S.getAll(this.textSearch)}catch(t){console.log("ðŸš€ ~ file: Search.vue:102 ~ getAllAccounts ~ error:",t)}},changeNavFields(t){this.activeField=t}},computed:{},async mounted(){await this.getAllVideos(),console.log("ðŸš€ ~ file: Search.vue:112 ~ created ~ await this.getAllVideos();:",this.videos),await this.getAllAccounts(),console.log("ðŸš€ ~ file: Search.vue:114 ~ created ~ await this.getAllAccounts():",this.accounts),this.loading.isLoading=!1}},w={class:"px-sm-5 vl-parent"},P={class:"d-flex"},B=["onClick"],N={key:0},j={key:1},D=c("hr",{class:"m-0"},null,-1),z={key:1,class:"d-flex justify-content-center flex-wrap gap-2 gap-sm-5 my-3"},E={key:2,class:"d-flex justify-content-center align-items-center my-3"},q=c("h4",{style:{"font-style":"italic"}}," Didn't find any videos or channels ",-1),I=[q];function O(t,l,R,T,e,h){const g=i("VideoCard"),p=i("ProfileCard"),v=i("Loading");return o(),n("section",w,[c("div",P,[(o(!0),n(r,null,d(e.navFields,s=>(o(),n("div",{key:s},[c("div",{role:"button",class:V(["btn fs-5",{active_btn:e.activeField===s}]),onClick:U=>h.changeNavFields(s)},[k(a(s)+" ",1),s==="Videos"?(o(),n("span",N,a(e.videos.length),1)):(o(),n("span",j,a(e.accounts.length),1))],10,B)]))),128))]),D,e.videos.length>0&&e.activeField==="Videos"?(o(),u(g,{key:this.$route.params.textSearch,videos:e.videos,option:e.option,style:x(e.style),class:"customArtplayer"},null,8,["videos","option","style"])):e.accounts.length>0&&e.activeField==="Channels"?(o(),n("div",z,[(o(!0),n(r,null,d(e.accounts,s=>(o(),u(p,{account:s},null,8,["account"]))),256))])):(o(),n("div",E,I)),C(v,{active:e.loading.isLoading,"onUpdate:active":l[0]||(l[0]=s=>e.loading.isLoading=s),"can-cancel":e.loading.onCancel,"is-full-page":e.loading.isfullPage,opacity:.5,backgroundColor:"#170f23 !important",color:"#c6bcd3",loader:"bars"},null,8,["active","can-cancel","is-full-page"])])}const Q=f(L,[["render",O]]);export{Q as default};
